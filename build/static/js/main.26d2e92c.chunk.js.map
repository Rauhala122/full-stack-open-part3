{"version":3,"sources":["components/PersonForm.js","components/Filter.js","services/persons.js","components/Persons.js","App.js","index.js"],"names":["PersonForm","newName","handleNameChange","newNumber","handleNumberChange","addNewPerson","value","onChange","type","onClick","Filter","filterPersons","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Persons","props","filtered","persons","console","log","filteredPersons","filter","person","name","toLowerCase","includes","map","i","key","number","deletePerson","Notification","message","messageClass","className","App","useState","setPersons","setFilter","setMessage","setMessageClass","useEffect","noteService","initialPersons","setNewName","setNewNumber","event","target","e","preventDefault","some","o","window","confirm","find","changedPerson","returnedPerson","catch","error","setTimeout","replaceNumber","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.26d2e92c.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = ({newName, handleNameChange, newNumber, handleNumberChange, addNewPerson}) => {\nreturn (\n  <div>\n    <h2>Add a New </h2>\n    <form>\n      <div>\n        name: <input value={newName} onChange={handleNameChange}/>\n        number: <input value={newNumber} onChange={handleNumberChange}/>\n      </div>\n      <div>\n        <button type=\"submit\" onClick={addNewPerson}>add</button>\n      </div>\n    </form>\n  </div>\n)\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Filter = ({filterPersons}) => {\n\n  return (\n    <div>\n      Filter show with <input onChange={filterPersons}/>\n    </div>\n  )\n}\n\nexport default Filter\n","import axios from 'axios'\nconst baseUrl = 'https://radiant-headland-31164.herokuapp.com/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst deletePerson = id => {\n  const request = axios.delete(baseUrl + \"/\" + id)\n  return request\n}\n\nconst replaceNumber = (id, newObject) => {\n  const request = axios.put(baseUrl + \"/\" + id, newObject)\n  return request.then(response => response.data)\n}\n\n// const update = (id, newObject) => {\n//   const request = axios.put(`${baseUrl}/${id}`, newObject)\n//   return request.then(response => response.data)\n// }\n\nexport default { getAll, create, deletePerson, replaceNumber }\n","import React, { useState, useEffect } from 'react'\nimport noteService from '../services/persons'\n\nconst Persons = (props) => {\n  let filtered = props.persons\n  console.log(filtered)\n  const filteredPersons = filtered.filter(person => person.name.toLowerCase().includes(props.filter))\n\n  return (\n    <div>\n      {\n      filteredPersons.map((person, i) =>\n        <p key={i}>{person.name} {person.number} <button onClick={() => props.deletePerson(person.id)}>Delete</button></p>\n      )}\n    </div>\n  )\n}\nexport default Persons\n","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport axios from 'axios'\nimport Persons from './components/Persons'\nimport noteService from './services/persons'\n\nconst Notification = ({ message, messageClass }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={messageClass}>\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [filter, setFilter] = useState([])\n  const [message, setMessage] = useState(null)\n  const [messageClass, setMessageClass] = useState(null)\n\n  useEffect(() => {\n    console.log('effect')\n\n    noteService.getAll().then(initialPersons => {\n      console.log('promise fulfilled')\n      console.log(initialPersons)\n      setPersons(initialPersons)\n    })\n\n  }, [])\n\n  const deletePerson = id => {\n    noteService.deletePerson(id)\n    setPersons(persons.filter(person => person.id !== id))\n    setMessage(\"Deleted \" + persons.find(person => person.id === id).name)\n    setMessageClass(\"success\")\n    setTimeout(() => {\n      setMessage(null)\n      setMessageClass(null)\n    }, 5000)\n  }\n\n  const replaceNumber = id => {\n    const person = persons.find(person => person.id === id)\n    const changedPerson = {...person, number: newNumber}\n    noteService.replaceNumber(id, changedPerson).then(returnedPerson => {\n      setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n    })\n    .catch(error => {\n      setMessage(person.name + \" is already removed\")\n      setMessageClass(\"error\")\n      setTimeout(() => {\n        setMessage(null)\n        setMessageClass(null)\n      }, 5000)\n    })\n    setMessage(person.name + \"'s number changed\")\n    setMessageClass(\"success\")\n    setTimeout(() => {\n      setMessage(null)\n      setMessageClass(null)\n    }, 5000)\n  }\n\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n\n  const addNewPerson = (event) => {\n    event.preventDefault()\n    if (persons.some(o => o.name == newName)) {\n      let changeNumber = window.confirm(`${newName} is already added to phonebook, do you want to change the number?`)\n      if (changeNumber == true) {\n        const person = persons.find(person => person.name === newName)\n        replaceNumber(person.id)\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      noteService.create(personObject).then(initialPersons => {\n        setPersons(persons.concat(initialPersons))\n        setMessage(\"Added \" + newName)\n        setMessageClass(\"success\")\n        setTimeout(() => {\n          setMessage(null)\n          setMessageClass(null)\n        }, 5000)\n        setNewName('')\n        setNewNumber('')\n      })\n      event.target.value = ''\n    }\n  }\n\n  const filterPersons = (event) => {\n    setFilter(event.target.value.toLowerCase())\n  }\n\n  const handleNameChange = (e) => setNewName(e.target.value)\n  const handleNumberChange = (e) => setNewNumber(e.target.value)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} messageClass={messageClass}/>\n      <Filter filterPersons={filterPersons}/>\n      <PersonForm newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} addNewPerson={addNewPerson}/>\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter} deletePerson={deletePerson}/>\n    </div>\n  )\n\n}\n\nexport default App\n","import React, { useState } from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n   <App />,\n   document.getElementById('root')\n )\n"],"sourceRoot":""}